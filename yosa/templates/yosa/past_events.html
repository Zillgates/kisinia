{% extends 'yosa/base.html' %}

{% block title %}Past Events{% endblock %}

{% block content %}
<h1>Past Events</h1>

<div class="card">
    <h2>Events You Attended</h2>
    <div class="event-list">
        {% for registration in past_registrations %}
            <div class="event-card">
                <h3>{{ registration.event.title }}</h3>
                <p><strong>Date:</strong> {{ registration.event.date|date:"F j, Y - g:i A" }}</p>
                <p><strong>Location:</strong> {{ registration.event.location }}</p>
                <p>{{ registration.event.description|truncatewords:30 }}</p>
            </div>
        {% empty %}
            <p>You haven't attended any events yet.</p>
        {% endfor %}
    </div>
</div>

<div class="card">
    <h2>All Past Events</h2>
    <div class="event-list">
        {% for event in all_past_events %}
            <div class="event-card">
                <h3>{{ event.title }}</h3>
                <p><strong>Date:</strong> {{ event.date|date:"F j, Y - g:i A" }}</p>
                <p><strong>Type:</strong> {{ event.get_event_type_display }}</p>
                <p>{{ event.description|truncatewords:30 }}</p>
            </div>
        {% empty %}
            <p>No past events available.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}